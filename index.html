<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElitePath | Beat the Competition</title>
    <link rel="stylesheet" href="src/styles/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@500;700;800&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
    <nav class="navbar">
        <div class="logo">ElitePath<span class="highlight">.</span></div>
        <div class="nav-links">
            <button onclick="navigateTo('landing')" class="nav-item">Home</button>
            <button onclick="navigateTo('dashboard')" class="nav-item">Discover</button>
            <button onclick="navigateTo('my-plan')" class="nav-item">My Plan</button>
        </div>

        <!-- Profile Section (Hidden by default, populated by JS) -->
        <div id="nav-profile" class="nav-profile" style="display: none;">
            <img id="nav-avatar" src="" alt="Profile" class="nav-avatar">
            <span id="nav-name" class="nav-name">User</span>
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>
        <button id="nav-login-btn" class="cta-button small" onclick="navigateTo('login')">Sign In</button>
    </nav>

    <main id="app">
        <div class="neon-grid-bg"></div>

        <!-- Login View -->
        <section id="login-view" class="view hidden">
            <div class="login-container">
                <div class="login-card">
                    <h1 class="gradient-text" style="font-size: 2.5rem; margin-bottom: 0.5rem;">ElitePath</h1>
                    <p style="color: var(--text-secondary); margin-bottom: 2rem;">Sign in to save your progress.</p>

                    <!-- Email Form -->
                    <div id="email-form">
                        <input type="email" id="email-input" placeholder="name@example.com" class="email-input">
                        <button class="cta-button" style="width: 100%; margin-top: 1rem;" onclick="handleMagicLogin()">
                            Send Magic Link <i data-lucide="send"></i>
                        </button>
                    </div>

                    <!-- Simulation: Inbox Check -->
                    <div id="magic-link-sent" style="display: none;">
                        <div
                            style="background: rgba(0, 242, 255, 0.1); padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
                            <i data-lucide="mail" style="color: var(--accent-primary); width: 48px; height: 48px;"></i>
                            <h3 style="margin: 0.5rem 0;">Check your Inbox</h3>
                            <p style="font-size: 0.9rem; color: var(--text-secondary);">We sent a temporary login link
                                to <strong id="sent-email-display"></strong>.</p>
                        </div>
                        <button class="google-btn" onclick="verifyLogin()">
                            <span>(Simulation) I clicked the link</span>
                        </button>
                    </div>

                    <p style="font-size: 0.8rem; margin-top: 1.5rem; color: var(--text-secondary);">By continuing, you
                        accept the Manifesto.</p>
                </div>
            </div>
        </section>

        <!-- Manifesto / Onboarding Modal -->
        <div id="manifesto-modal" class="modal-overlay" style="display: none;">
            <div class="manifesto-box">
                <!-- Step 1: The Strategy -->
                <div id="step-1" class="manifesto-step active">
                    <h2 class="manifesto-title" style="color: var(--accent-primary);">Strategy Over Randomness</h2>
                    <p class="subtitle">Most students pick activities at random. ElitePath helps you build a cohesive
                        narrative.<br><br>We analyze what works for top universities and reverse-engineer the path for
                        you.</p>
                    <button class="cta-button" onclick="nextManifestoStep(2)">See the Data <i
                            data-lucide="arrow-right"></i></button>
                </div>

                <!-- Step 2: The Tier System (Simplified) -->
                <div id="step-2" class="manifesto-step">
                    <h2>Understanding Impact</h2>
                    <div class="rank-display">
                        <div class="rank-card">
                            <h3>Local & Regional</h3>
                            <p style="font-size: 0.9rem; color: var(--text-secondary);">Foundational work. Internships,
                                Volunteering, Clubs.</p>
                        </div>
                        <div class="rank-card legendary">
                            <h3>National & Legendary</h3>
                            <p style="font-size: 0.9rem; color: var(--text-secondary);">High-impact spikes.
                                International awards, Patents, Research.</p>
                        </div>
                    </div>
                    <p style="margin-bottom: 2rem;">We have generated 1,000+ data points to help you find your mix.</p>
                    <button class="cta-button" onclick="completeOnboarding()">Explore Library</button>
                </div>
            </div>
        </div>

        <!-- Landing View -->
        <section id="landing-view" class="view active">
            <div class="hero">
                <div class="hero-content">
                    <h1 class="glitch-effect" style="font-size: 5rem; margin-bottom: 1rem;" data-text="DOMINATE.">
                        DOMINATE.</h1>
                    <p class="subtitle">The unfair advantage for high school extracurriculars.<br>Rankings. Roadmaps.
                        Secrets.</p>
                    <button class="cta-button" onclick="startJourney()">Analyze the Meta <i
                            data-lucide="zap"></i></button>
                </div>
            </div>
        </section>

        <!-- Ranking View (Educational) -->
        <section id="ranking-view" class="view hidden">
            <div class="container">
                <header class="section-header">
                    <h2>The Tier System</h2>
                </header>
                <div class="grid">
                    <!-- Detailed Logic of Tiers -->
                    <div class="card" style="cursor: default; border-color: var(--accent-secondary);">
                        <h3 class="gradient-text">Legendary</h3>
                        <p>Activities that act as "Golden Tickets". Success here can compensate for lower GPA/Scores.
                            Examples: IMO Gold, RSI, ISEF Top Award.</p>
                    </div>
                    <div class="card" style="cursor: default; border-color: var(--accent-primary);">
                        <h3>National</h3>
                        <p>Strong hook for T20 schools. Shows you are the best in a large pool. Examples: USAMO
                            Qualifier, NSDA Finalist, Bank of America Student Leader.</p>
                    </div>
                    <div class="card" style="cursor: default;">
                        <h3>Regional</h3>
                        <p>Standard "Good Student" activities. Necessary but not sufficient for Ivy+. Examples: Varsity
                            Captain, Club President, State Science Fair.</p>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 3rem;">
                    <button class="cta-button" onclick="navigateTo('dashboard')">View Activities <i
                            data-lucide="arrow-right"></i></button>
                </div>
            </div>
        </section>

        <!-- Dashboard View -->
        <section id="dashboard-view" class="view hidden">
            <div class="container">
                <header class="section-header">
                    <h2>Subject Metadata</h2>
                    <p>Curated paths to distinction.</p>
                </header>

                <div class="filters">
                    <button class="filter-chip active" onclick="filterActivities('all')">All</button>
                    <button class="filter-chip" onclick="filterActivities('STEM')">STEM</button>
                    <button class="filter-chip" onclick="filterActivities('Humanities')">Humanities</button>
                    <button class="filter-chip" onclick="filterActivities('Leadership')">Leadership</button>
                    <button class="filter-chip" onclick="filterActivities('Arts')">Arts</button>
                </div>

                <div id="activities-grid" class="grid">
                    <!-- Activities injected by JS -->
                </div>
            </div>
        </section>

        <!-- Activity Detail View -->
        <section id="detail-view" class="view hidden">
            <button class="back-button" onclick="navigateTo('dashboard')"><i data-lucide="arrow-left"></i> Back</button>
            <div id="activity-content" class="detail-container">
                <!-- Content injected by JS -->
            </div>
        </section>

        <!-- My Plan View -->
        <section id="my-plan-view" class="view hidden">
            <div class="container">
                <header class="section-header">
                    <h2>My Victory Plan</h2>
                    <p>Track your progress towards the top.</p>
                </header>
                <div id="my-plan-content">
                    <!-- Injected by JS -->
                    <div class="empty-state" style="text-align: center; padding: 4rem; color: var(--text-secondary);">
                        <p>No activities added yet. Go to Discover to start your journey.</p>
                        <button class="cta-button" style="margin-top: 1rem; font-size: 1rem;"
                            onclick="navigateTo('dashboard')">Find Activities</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="src/data.js"></script>
    <script src="src/script.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>

</html>